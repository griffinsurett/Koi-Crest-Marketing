---
// src/components/ContentRenderer/variants/ListVariant.astro
/**
 * List Variant - Flexible list layout
 * 
 * Features: 
 * - Horizontal cards (default): Side-by-side image/content, full width
 * - Vertical links (orientation="vertical"): Simple stacked links for footer/sidebar
 */

import type { BaseVariantProps } from "../ContentRenderer.types";
import ListCard from '@/components/LoopComponents/ListCard.astro';
import { shouldShowCollectionCTA } from "../utils/helpers";

interface Props extends BaseVariantProps {
  orientation?: 'horizontal' | 'vertical';
}

const { 
  items = [],
  title,
  description,
  className = '',
  collectionUrl,
  collectionTitle,
  id,
  orientation = 'horizontal',
} = Astro.props as Props;

const viewAllText = `See Complete ${collectionTitle || 'List'}`;
const isVertical = orientation === 'vertical';
---

<section id={id} class={`${className}`}>
  {title && (
    <div class="mb-0">
      {title && <h3 class="text-base uppercase font-bold mb-4">{title}</h3>}
    </div>
  )}
  
  {items.length > 0 && (
    isVertical ? (
      <ul class="space-y-2 list-none">
        {items.map((item) => (
          <li>
            <a 
              href={item.url || '#'} 
              class="text-gray-600 hover:text-gray-900 transition text-sm block py-1"
              target={item.openInNewTab ? '_blank' : undefined}
              rel={item.openInNewTab ? 'noopener noreferrer' : undefined}
            >
              {item.title}
            </a>
          </li>
        ))}
      </ul>
    ) : (
      <ul class="flex flex-col gap-8 list-none">
        {items.map((item) => (
          <li>
            <ListCard {...item} />
          </li>
        ))}
      </ul>
    )
  )}
</section>