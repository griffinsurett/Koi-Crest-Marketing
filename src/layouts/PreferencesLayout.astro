---
// src/layouts/PreferencesLayout.astro
/**
 * Preferences Layout
 * 
 * Consolidates all user preference systems:
 * - Cookie consent (with script management)
 * - Accessibility preferences
 * - Language switcher (Google Translate)
 * 
 * All use the same lazy-load, zero-impact pattern.
 */

// Cookie Consent Preferences
import CookiePreferencesButton from "@/integrations/preferences/consent/components/CookiePreferencesButton";
import CookieConsentBanner from "@/integrations/preferences/consent/components/CookieConsentBanner";
import ConsentScript from "@/integrations/preferences/consent/components/ConsentScript.astro";

// Accessibility Preferences
import AccessibilityButton from "@/integrations/preferences/accessibility/components/AccessibilityButton";
// import "@/integrations/preferences/accessibility/styles/accessibility.css";

// Language Switcher
// import LanguageSwitcher from "@/integrations/preferences/language/components/LanguageSwitcher";
// import GoogleTranslateScript from "@/integrations/preferences/language/components/GoogleTranslateScript.astro";
// import "@/integrations/preferences/language/language-switcher.css";
---

{/* Consent Script - Inline initialization, runs immediately */}
<ConsentScript />

{/* Google Translate Script - Only loads if user has language preference */}
<!-- <GoogleTranslateScript /> -->

{/* Language Switcher - Client-side only */}
<!-- <LanguageSwitcher client:visible /> -->

{/* Cookie Preferences Button - Client-side only */}
<CookiePreferencesButton client:visible />
<CookieConsentBanner client:idle />

{/* Accessibility Button - Client-side only */}
<AccessibilityButton client:visible />
