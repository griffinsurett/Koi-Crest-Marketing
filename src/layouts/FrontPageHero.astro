---
// src/components/ContentRenderer/variants/HeroVariant.astro
/**
 * Hero Variant - Landing page hero section with form
 * Features: Large heading, description, stats, contact form, sticky on desktop
 */

import type { BaseVariantProps } from "@/components/ContentRenderer/ContentRenderer.types";
import ContactForm from "@/components/Form/forms/ContactForm";
import StarRating from "@/components/StarRating.astro";
import SectionHeader from "@/components/SectionHeader";

interface Props extends BaseVariantProps {
  subtitle?: string;
  stats?: {
    rating?: string;
    customers?: string;
  };
}

const {
  items = [],
  title,
  subtitle,
  description,
  className = "",
  stats = { rating: "5/5", customers: "64" },
  id,
} = Astro.props as Props;

// Use first item if available for dynamic content
const heroContent = items[0] || {};
const displayTitle = title || heroContent.title || "Welcome";
const displaySubtitle = subtitle || heroContent.subtitle || "";
const displayDescription = description || heroContent.description || "";
---

<section id={id} class={`min-h-9/10 flex justify-center items-center w-full bg-gray-50 ${className}`}>
  <div class="flex flex-col lg:flex-row inner-container py-15 gap-16 lg:gap-25 items-start">
    <!-- Left Column -->
    <div class="space-y-6 py-8 lg:py-0 flex flex-col justify-center items-start gap-6 lg:sticky lg:top-0 lg:w-3/5">
      <!-- Main Heading -->
      <SectionHeader 
        subtitle={displaySubtitle}
        title={displayTitle}
        titleTag="h1"
        subtitleClass="text-gray-400 font-semibold h6 m-0 p-0"
        titleClass="h1 text-black m-0"
      />

      <!-- Description -->
      <p class="text-gray-700 text-xl main-text leading-relaxed p-0 m-0">
        {displayDescription}
      </p>

      <!-- Stats Section -->
      <div class="flex items-center space-x-12 pt-4">
        <!-- Rating -->
        <div class="flex flex-col gap-2 items-start space-x-3">
          <div class="flex items-end gap-2">
            <div class="text-4xl font-bold">{stats.rating}</div>
            <div class="text-sm text-gray-600">rated</div>
          </div>
          <StarRating />
        </div>
        <!-- Happy Customers -->
        <div class="flex items-center space-x-3">
          <!-- Thumbs Up Icon -->
          <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
            <path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.85-1.26l3.03-7.08c.09-.23.12-.47.12-.66v-2z"></path>
          </svg>
          <div>
            <div class="h2 font-bold">{stats.customers}</div>
            <div class="small-text text-gray-600">Happy customers</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column - Form -->
    <div class="lg:w-2/5 w-full">
      <!-- <ContactForm client:load /> -->
    </div>
  </div>
</section>