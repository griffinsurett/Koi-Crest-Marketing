---
// src/layouts/collections/CollectionLayout.astro
/**
 * Collection Layout - Default Item Page Layout
 * 
 * The standard layout for individual collection items.
 * Features:
 * - Reusable hero section (via HeroLayout)
 * - MDX content rendering with proper typography
 * - Metadata display handled by hero
 * 
 * This is the default layout used when no custom layout is specified.
 * Falls back gracefully when images or metadata are missing.
 */

import BaseLayout from '@/layouts/BaseLayout.astro';
import HeroLayout from './HeroLayout.astro';
import type { CollectionLayoutProps } from './types';

const { 
  entry,
  collection,
  collectionMeta,
  Content,
  isIndexPage,
  seoProps = {},
  ...extraProps
} = Astro.props as CollectionLayoutProps;

const data = entry?.data || {};
---

<BaseLayout {...seoProps}>
  <main class="flex-1">
    {/* Hero section */}
    <HeroLayout
      title={data.title}
      description={data.description}
      bannerImage={data.bannerImage}
      featuredImage={data.featuredImage}
      publishDate={data.publishDate}
      author={data.author}
      readingTime={data.readingTime}
    />

    {/* MDX content */}
    {Content && (
      <article class="container mx-auto px-4 py-8 md:py-12">
        <div class="prose prose-lg max-w-4xl mx-auto">
          <Content />
        </div>
      </article>
    )}
  </main>
</BaseLayout>